name: haskell-nix-ubuntu-lucid
version: 0.0.4
inherits: bennofs/haskell-nix-ubuntu-lucid@0.0.3
type: main
platform: ubuntu@10.04
description: The nix package manager preconfigured to build Haskell applications for ubuntu 10.04.
keywords:
  - haskell
  - 32bit
  - ghc
  - cabal
script: |
  set +e

  # Populate the nix store with prebuild haskell packages
  nix-build --no-out-link $WERCKER_SOURCE_DIR/packages.nix
default-build:
  nix:
    priority: 50
    detect:
      - files:
          - release.nix
    text-to-append: |
      build:
        steps:
          - script:
              name: Build application
              code: nix-build release.nix
